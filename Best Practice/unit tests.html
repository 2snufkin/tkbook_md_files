<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Documentation Site</title>
    <link rel="stylesheet" href="style.css">
</head>
<style>
    body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 0;
    display: flex;
    flex-direction: column;
    height: 100vh;
}

.navbar {
    background-color: #333;
    color: white;
    padding: 10px;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.app-name {
    font-size: 1.5em;
}

.folder-links {
    display: flex;
    gap: 10px;
}

.folder-link {
    color: white;
    text-decoration: none;
}

.folder-link:hover {
    text-decoration: underline;
}

.container {
    display: flex;
    flex: 1;
}

.sidebar {
    width: 200px;
    background-color: #1e90ff;
    padding: 10px;
    color: white;
    overflow-y: auto;
}

.content {
    flex: 1;
    padding: 20px;
    overflow-y: auto;
}

</style>
<body>
    <div class="navbar">
        <div class="app-name">Placeholder</div>
        <div class="folder-links">
            
                <a href="#" class="folder-link" data-folder="C:\Users\work\Documents\tkBook_md\Best Practice">C:\Users\work\Documents\tkBook_md\Best Practice</a>
            
                <a href="#" class="folder-link" data-folder="C:\Users\work\Documents\tkBook_md\Errors">C:\Users\work\Documents\tkBook_md\Errors</a>
            
                <a href="#" class="folder-link" data-folder="C:\Users\work\Documents\tkBook_md\Java">C:\Users\work\Documents\tkBook_md\Java</a>
            
                <a href="#" class="folder-link" data-folder="C:\Users\work\Documents\tkBook_md\Tumorotek">C:\Users\work\Documents\tkBook_md\Tumorotek</a>
            
        </div>
    </div>
    <div class="container">
        <div class="sidebar" id="sidebar"></div>
        <div class="content">
            <h1>Unit Tests</h1>
<p>When working on the Tumorotek project, it is essential to write unit tests for your Data Access Object (DAO) classes and Services (Managers).</p>
<ol>
<li><strong>Create a New Test Class:</strong></li>
<li>If needed, create a new test class in the correct package.</li>
<li>
<p>Name the class as <code>___DaoTest</code> and extend <code>AbstractDaoTest</code>.</p>
</li>
<li>
<p><strong>Set Up Dependency Injection:</strong></p>
</li>
<li>
<p>Create a private variable for the DAO bean and its setter method for dependency injection.</p>
</li>
<li>
<p><strong>Follow Testing Conventions:</strong></p>
</li>
<li>Tests must start with the word 'test' when working with AbstractJpaTests.</li>
<li>Write your test cases.</li>
</ol>
<p><strong>Setting:</strong><br />
- <code>AbstractDaoTest</code> extends <code>AbstractJpaTests</code>.
- It uses the <code>applicationContextDao-test-mysql.xml</code>, which includes necessary resources: <code>spring-jpa-test-mysql.xml</code> and <code>applicationContextDao.xml</code>.</p>
<h3>Testing Manager Classes:</h3>
<ol>
<li><strong>Check Existing Test Class:</strong></li>
<li>
<p>Search the specified manager test package (<code>tumorotek-core/src/test/java/fr/aphp/tumorotek/manager/test</code>) to find an existing test class for the manager. If it doesn't exist, move to step 2; else, move to step 4.</p>
</li>
<li>
<p><strong>Create a New Test Class:</strong></p>
</li>
<li>If needed, create a new test class in the correct package.</li>
<li>
<p>Name the class as <code>___ManagerTest</code> and extend <code>AbstractManagerTest4</code>.</p>
</li>
<li>
<p><strong>Set Up Dependency Injection:</strong></p>
</li>
<li>
<p>Create a private variable for the Manager bean and annotate it with <code>@Autowired</code>.</p>
</li>
<li>
<p><strong>Annotation for Tests:</strong></p>
</li>
<li>Annotate your test methods with <code>@Test</code>.</li>
</ol>
<p><strong>Setting:</strong><br />
- <code>AbstractManagerTest4</code> is deprecated. Refactor it to <code>AbstractManagerTest</code> (remove the '4').
- It uses <code>applicationContextDaoBase-test-mysql.xml</code> and <code>applicationContextManagerBase.xml</code> for configurations.</p>
<h3>Actions to be taken:</h3>
<ul>
<li>Replace the deprecated <code>AbstractJpaTests</code> with an alternative (mention the recommended alternative).</li>
<li>Consider refactoring the current configuration to use an H2 database for testing.</li>
<li>Refactor <code>AbstractManagerTest4</code> to <code>AbstractManagerTest</code> as the '4' holds no significance.</li>
<li>Consider using a mocking library for more efficient and controlled testing.</li>
</ul>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', (event) => {
            document.querySelectorAll('.folder-link').forEach(link => {
                link.addEventListener('click', function() {
                    const folder = this.getAttribute('data-folder');
                    fetchSidebarLinks(folder);
                });
            });
        });

        function fetchSidebarLinks(folder) {
            const sidebar = document.getElementById('sidebar');
            sidebar.innerHTML = '';
            fetch(`${folder}/index.html`).then(response => response.text()).then(data => {
                const parser = new DOMParser();
                const doc = parser.parseFromString(data, 'text/html');
                const links = doc.querySelectorAll('a.nav-link');
                links.forEach(link => {
                    sidebar.appendChild(link.cloneNode(true));
                });
            });
        }
    </script>
</body>
</html>